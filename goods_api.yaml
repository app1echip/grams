swagger: '2.0'
info:
  version: 0.0.2
  title: 1-13 商品模块
paths:
  /goods:
    post:
      tags:
      - goods
      summary: 新建商品
      description: 店铺管理员新增商品
      parameters:
      - in: header
        name: authorization
        type: string
        description: Token
        required: true
      - in: body
        name: good_spu
        description: 商品SPU：ID自动生成，状态未上架，规格为空
        required: true
        schema:
          properties:
            name:
              type: string
            brand_id:
              type: integer
            category_id:
              type: integer
            freight_id:
              type: integer
            goods_sn:
              type: string
            description:
              type: string
            image_url:
              type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/goods_spu'
  /goods/{spu_id}/onshelf:
    put:
      tags:
      - goods
      summary: 上架商品
      description: 店铺管理员上架商品
      parameters:
      - in: header
        name: authorization
        type: string
        description: Token
        required: true
      - in: path
        name: spu_id
        type: integer
        description: 商品SPU ID
        required: true
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/goods_spu'
  /goods/{spu_id}/offshelf:
    put:
      tags:
      - goods
      summary: 下架商品
      description: 店铺管理员下架商品
      parameters:
      - in: header
        name: authorization
        type: string
        description: Token
        required: true
      - in: path
        name: spu_id
        type: integer
        description: 商品SPU ID
        required: true
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/goods_spu'
  /goods/{spu_id}/spec:
    post:
      tags:
      - goods
      summary: 新建商品规格
      description: 店铺管理员新增商品规格
      parameters:
      - in: header
        name: authorization
        type: string
        description: Token
        required: true
      - in: path
        name: spu_id
        type: integer
        description: 商品SPU ID
        required: true
      - in: body
        name: goods_sku
        description: 商品SKU：
        required: true
        schema:
          properties:
            name:
              type: string
            original_price:
              type: number
            configuration:
              type: object
            weight:
              type: number
            image_url:
              type: number
            inventory:
              type: integer
            description:
              type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/goods_sku'

definitions:
  goods_spu:
    properties:
      id:
        type: integer
      name:
        type: string
      brand_id:
        type: integer
      category_id:
        type: integer
      freight_id:
        type: integer
      goods_sn:
        type: string
      description:
        type: string
      image_url:
        type: string
      state:
        type: string
      spec:
        type: array
        items:
          $ref: '#/definitions/goods_sku'
  goods_sku:
    properties:
      id:
        type: integer
      goods_spu_id:
        type: integer
      name:
        type: string
      original_price:
        type: number
      configuration:
        type: object
      weight:
        type: number
      image_url:
        type: string
      inventory:
        type: integer
      description:
        type: string
